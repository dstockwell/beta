<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="catalog-styles.html">
<link rel="import" href="catalog-list.html">
<link rel="import" href="page-loading-behavior.html">

<dom-module id="catalog-search">
  <template>
    <style include="catalog-styles"></style>

    <h1 class="page-title">[[_title(path, title)]]</h1>

    <div id="header-main" class="main-content">
      <catalog-list id="list" query="[[_query(path)]]" base-urls="[[baseUrls]]" loading="{{loading}}" disabled="[[!visible]]"></catalog-list>
    </div>

  </template>

  <script>
    Polymer({

      is: 'catalog-search',

      behaviors: [
        window.PageLoadingBehavior,
      ],

      properties: {
        path: String,
        baseUrls: Object,
        route: Object,
        visible: Boolean,
        author: String,
        title: {
          value: '',
          type: String,
        },
      },

      _title: function(path, title) {
        return title ? title : 'Results for "' + this._query(path) + '"';
      },

      _query: function(path) {
        return path && path.substring(1);
      },

    });
  </script>
</dom-module>
